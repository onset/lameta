{"id":"lameta-0b0","title":"Cancel button can't stop IMDI export copies","description":"ExportDialog calls mainProcessApi.cancelImdiExportCopyOperations() when the user clicks Cancel, but MainProcessImdiExport.copyFileForExport uses fs.copyFile and the cancel method is a no-op. Long copies keep running and the Cancel button lies.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-06T09:32:42.3762427-07:00","updated_at":"2025-12-06T09:32:55.7444868-07:00"}
{"id":"lameta-35c","title":"Missing unused import in ImdiBundler.ts","description":"The import 'import { log } from util' is used but references old code. The 'log' function is deprecated. Should use console.error instead.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-06T09:13:05.0687899-07:00","updated_at":"2025-12-06T09:14:32.3572011-07:00","closed_at":"2025-12-06T09:14:32.3572011-07:00"}
{"id":"lameta-3q4","title":"Remove bean.AGENTS.md - duplicate onboarding file","description":"","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-06T09:12:53.6762962-07:00","updated_at":"2025-12-06T09:14:22.6940352-07:00","closed_at":"2025-12-06T09:14:22.6940352-07:00"}
{"id":"lameta-77v","title":"Fix LAM-27 or workaround so e2e tests can run for hybrid export","description":"**FIXED**: Replaced electron-call with native Electron IPC (ipcMain.handle/ipcRenderer.invoke). The root cause was electron-call's call.initialize() dynamically injecting preloads via session.setPreloads(), which conflicted with Playwright's own preload handling. Commit: 2fa20fb4","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-04T19:23:11.569492-07:00","updated_at":"2025-12-05T16:34:08.7140686-07:00","closed_at":"2025-12-05T16:34:08.7140686-07:00"}
{"id":"lameta-9ka","title":"Multilingual field migration: mono↔multi state transitions","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T17:12:14.1844088-07:00","updated_at":"2025-12-09T17:20:09.721711-07:00","closed_at":"2025-12-09T17:20:09.721711-07:00"}
{"id":"lameta-9ka.1","title":"Fix monoLingualText getter to not throw on tagged text","description":"The monoLingualText getter in MultilingualTextHolder currently throws an error if the text contains [[ tags. It should instead just return the raw text, preserving tags so no data is lost when field goes mono→multi→mono.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T17:12:19.395369-07:00","updated_at":"2025-12-09T17:19:57.1929418-07:00","closed_at":"2025-12-09T17:19:57.1929418-07:00","dependencies":[{"issue_id":"lameta-9ka.1","depends_on_id":"lameta-9ka","type":"parent-child","created_at":"2025-12-09T17:12:19.3963936-07:00","created_by":"unknown"}]}
{"id":"lameta-9ka.2","title":"Add migration for monolingual→multilingual: tag untagged text as English","description":"When a field is configured as multilingual but contains plain untagged text (from when it was monolingual), the text should be treated as English. This could be done in Field.getTextAxis('en') or in the deserialization logic. Currently getTextAxis returns empty when there are no tags.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T17:12:25.0463637-07:00","updated_at":"2025-12-09T17:20:00.8095877-07:00","closed_at":"2025-12-09T17:20:00.8095877-07:00","dependencies":[{"issue_id":"lameta-9ka.2","depends_on_id":"lameta-9ka","type":"parent-child","created_at":"2025-12-09T17:12:25.047485-07:00","created_by":"unknown"}]}
{"id":"lameta-9ka.3","title":"Unit tests for multilingual field migration scenarios","description":"Create comprehensive unit tests covering: (1) mono→multi: plain text treated as English, (2) multi→mono: tagged text preserved verbatim, (3) round-trip: mono→multi→mono→multi preserves all data, (4) edge cases: empty text, whitespace-only, special chars including [[ in content, multiple languages with English missing, Unicode/RTL text","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T17:12:31.4004697-07:00","updated_at":"2025-12-09T17:18:58.5172415-07:00","closed_at":"2025-12-09T17:18:58.5172415-07:00","dependencies":[{"issue_id":"lameta-9ka.3","depends_on_id":"lameta-9ka","type":"parent-child","created_at":"2025-12-09T17:12:31.4020732-07:00","created_by":"unknown"}]}
{"id":"lameta-ail","title":"Move IMDI/OPEX export to main process with progress reporting","description":"Refactor IMDI/OPEX export to run in main process instead of renderer. Goals: (1) Keep UI responsive during export, (2) Show progress bar, (3) Allow cancellation, (4) Stream warnings/errors to a mini log. Current problem: All export logic runs in renderer with sync file I/O, blocking the UI.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-04T14:41:04.0830768-07:00","updated_at":"2025-12-04T17:01:15.2808555-07:00","closed_at":"2025-12-04T17:01:15.2808555-07:00"}
{"id":"lameta-ail.1","title":"Create IExportableProject interface for serializing project data","description":"Define a plain-object interface that captures all data needed for export (project metadata, sessions, persons, files). This will be serialized across IPC boundary. Must handle: file paths, all session/person properties, contributions, custom fields. Should NOT include MobX observables or circular references.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:41:29.9290282-07:00","updated_at":"2025-12-04T16:43:10.2511822-07:00","closed_at":"2025-12-04T16:43:10.2511822-07:00","dependencies":[{"issue_id":"lameta-ail.1","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:41:29.930101-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.2","title":"Add toExportable() methods to Project, Session, Person, File","description":"Add serialization methods to model classes that produce IExportable* objects. These extract the plain data needed for export without MobX/circular refs. Include unit tests that verify round-trip fidelity for various edge cases (unicode names, special chars, empty fields).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:41:40.4243864-07:00","updated_at":"2025-12-04T16:46:28.7228364-07:00","closed_at":"2025-12-04T16:46:28.7228364-07:00","dependencies":[{"issue_id":"lameta-ail.2","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:41:40.425426-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.2","depends_on_id":"lameta-ail.1","type":"blocks","created_at":"2025-12-04T14:43:27.7867408-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.3","title":"Port ImdiGenerator to work with IExportable* types","description":"Modify ImdiGenerator to accept IExportable* objects instead of live model objects. This decouples it from MobX and allows it to run in main process. Keep existing unit tests passing by updating test setup. Generator should be pure function of input data.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:41:51.1570511-07:00","updated_at":"2025-12-04T17:18:17.7155732-07:00","closed_at":"2025-12-04T17:18:17.7155732-07:00","dependencies":[{"issue_id":"lameta-ail.3","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:41:51.1581218-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.3","depends_on_id":"lameta-ail.2","type":"blocks","created_at":"2025-12-04T14:43:33.0818855-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.4","title":"Port ImdiBundler to main process with async I/O","description":"Move ImdiBundler logic to main process. Convert all sync file operations to async (fs.promises.*). Add AbortController support for cancellation. Add progress callback that reports: phase, current/total items, percentage, message. Unit test with mock fs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:42:02.1873166-07:00","updated_at":"2025-12-04T17:18:17.7185805-07:00","closed_at":"2025-12-04T17:18:17.7185805-07:00","dependencies":[{"issue_id":"lameta-ail.4","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:02.1883925-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.4","depends_on_id":"lameta-ail.3","type":"blocks","created_at":"2025-12-04T14:43:38.3962551-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.5","title":"Move file copying to main process","description":"Port CopyManager functionality to main process. Keep spawning rsync/copy as child processes. Track progress and report via the same progress callback mechanism. Handle cancellation by killing child processes. This sets up pattern for moving all file copying later.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:42:12.3886653-07:00","updated_at":"2025-12-04T17:18:17.7191295-07:00","closed_at":"2025-12-04T17:18:17.7191295-07:00","dependencies":[{"issue_id":"lameta-ail.5","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:12.389699-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.5","depends_on_id":"lameta-ail.4","type":"blocks","created_at":"2025-12-04T14:43:43.7026837-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.6","title":"Add IPC API for export with progress events","description":"Extend MainProcessApi with: startExport(projectData, outputPath, options) -\u003e jobId, cancelExport(jobId). Use electron IPC to emit progress events back to renderer. Define ExportProgress interface: {jobId, phase, current, total, percentage, message, warnings[]}. Add to electron-call pattern.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:42:24.352032-07:00","updated_at":"2025-12-04T17:18:17.719647-07:00","closed_at":"2025-12-04T17:18:17.719647-07:00","dependencies":[{"issue_id":"lameta-ail.6","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:24.3531252-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.6","depends_on_id":"lameta-ail.4","type":"blocks","created_at":"2025-12-04T14:43:48.982945-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.7","title":"Update ExportDialog UI with progress bar and log","description":"Refactor ExportDialog to: (1) Call new IPC export API instead of ImdiBundler directly, (2) Listen for progress events and update MUI progress bar, (3) Show scrolling log of warnings/errors as they stream in, (4) Cancel button that calls cancelExport(). Remove old Mode.copying state since main process handles it.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:42:35.4470866-07:00","updated_at":"2025-12-04T17:18:17.7201696-07:00","closed_at":"2025-12-04T17:18:17.7201696-07:00","dependencies":[{"issue_id":"lameta-ail.7","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:35.4481196-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.7","depends_on_id":"lameta-ail.6","type":"blocks","created_at":"2025-12-04T14:43:54.2693307-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.8","title":"Add playwright e2e tests for export with progress","description":"Create e2e tests that: (1) Start an OPEX+Files export, (2) Verify progress bar appears and updates, (3) Verify export completes successfully, (4) Test cancellation mid-export, (5) Test with a project that has warnings to verify log display. Use sample data with multiple sessions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-04T14:42:46.2791903-07:00","updated_at":"2025-12-04T17:18:17.7212096-07:00","closed_at":"2025-12-04T17:18:17.7212096-07:00","dependencies":[{"issue_id":"lameta-ail.8","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:46.2813861-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.8","depends_on_id":"lameta-ail.7","type":"blocks","created_at":"2025-12-04T14:43:59.5498731-07:00","created_by":"unknown"}]}
{"id":"lameta-ail.9","title":"Clean up old renderer-side export code","description":"After everything works: (1) Remove renderer-side ImdiBundler imports from ExportDialog, (2) Consider moving ImdiBundler.ts to mainProcess folder, (3) Update any remaining references, (4) Remove old CopyManager usage from export path (keep for other uses if any).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T14:42:57.4796337-07:00","updated_at":"2025-12-04T17:18:17.7217272-07:00","closed_at":"2025-12-04T17:18:17.7217272-07:00","dependencies":[{"issue_id":"lameta-ail.9","depends_on_id":"lameta-ail","type":"parent-child","created_at":"2025-12-04T14:42:57.4813224-07:00","created_by":"unknown"},{"issue_id":"lameta-ail.9","depends_on_id":"lameta-ail.8","type":"blocks","created_at":"2025-12-04T14:44:04.8621802-07:00","created_by":"unknown"}]}
{"id":"lameta-c2f","title":"Consolidate ImdiBundler - refactor saveImdiBundleToFolder to use generator","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:23:30.7708234-07:00","updated_at":"2025-12-04T19:42:21.7518962-07:00","closed_at":"2025-12-04T19:42:21.7518962-07:00"}
{"id":"lameta-cu3","title":"Hybrid Export: Responsive UI with Progress","description":"Refactor export so renderer generates IMDI strings, main process handles all file I/O. Goals: responsive UI, progress bar, cancellation between sessions.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-04T17:01:42.7779126-07:00","updated_at":"2025-12-04T17:31:07.3675217-07:00","closed_at":"2025-12-04T17:31:07.3675217-07:00"}
{"id":"lameta-cu3.1","title":"Refactor ImdiBundler to return data instead of writing files","description":"Modify ImdiBundler to collect IMDI XML strings and file lists instead of directly writing to disk. Create new methods that return structured data for the main process to handle.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T17:01:53.0764469-07:00","updated_at":"2025-12-04T17:17:26.8326032-07:00","closed_at":"2025-12-04T17:17:26.8326032-07:00","dependencies":[{"issue_id":"lameta-cu3.1","depends_on_id":"lameta-cu3","type":"parent-child","created_at":"2025-12-04T17:01:53.0781775-07:00","created_by":"unknown"}]}
{"id":"lameta-cu3.2","title":"Add main process export API","description":"Create MainProcessApi methods for: writeFile (IMDI XML), copyFiles (with progress callback), mkdir. These handle all file I/O in the main process.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T17:02:03.6205742-07:00","updated_at":"2025-12-04T17:25:55.8591011-07:00","closed_at":"2025-12-04T17:25:55.8591011-07:00","dependencies":[{"issue_id":"lameta-cu3.2","depends_on_id":"lameta-cu3","type":"parent-child","created_at":"2025-12-04T17:02:03.6223134-07:00","created_by":"unknown"},{"issue_id":"lameta-cu3.2","depends_on_id":"lameta-cu3.1","type":"blocks","created_at":"2025-12-04T17:02:03.6233628-07:00","created_by":"unknown"}]}
{"id":"lameta-cu3.3","title":"Add progress UI to ExportDialog","description":"Add progress bar, current session name, and mini-log for warnings/errors to ExportDialog. Support cancellation button that stops between sessions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T17:02:13.3967721-07:00","updated_at":"2025-12-04T17:30:23.2853562-07:00","closed_at":"2025-12-04T17:30:23.2853562-07:00","dependencies":[{"issue_id":"lameta-cu3.3","depends_on_id":"lameta-cu3","type":"parent-child","created_at":"2025-12-04T17:02:13.4008451-07:00","created_by":"unknown"},{"issue_id":"lameta-cu3.3","depends_on_id":"lameta-cu3.2","type":"blocks","created_at":"2025-12-04T17:02:13.4037329-07:00","created_by":"unknown"}]}
{"id":"lameta-cu3.4","title":"Wire up hybrid export flow","description":"Connect the pieces: ExportDialog calls ImdiBundler to get data, sends to main process via IPC, receives progress updates, updates UI. Handle cancellation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T17:02:23.4868482-07:00","updated_at":"2025-12-04T17:30:56.0088381-07:00","closed_at":"2025-12-04T17:30:56.0088381-07:00","dependencies":[{"issue_id":"lameta-cu3.4","depends_on_id":"lameta-cu3","type":"parent-child","created_at":"2025-12-04T17:02:23.4886469-07:00","created_by":"unknown"},{"issue_id":"lameta-cu3.4","depends_on_id":"lameta-cu3.2","type":"blocks","created_at":"2025-12-04T17:02:23.4918879-07:00","created_by":"unknown"},{"issue_id":"lameta-cu3.4","depends_on_id":"lameta-cu3.3","type":"blocks","created_at":"2025-12-04T17:02:23.4945972-07:00","created_by":"unknown"}]}
{"id":"lameta-d3p","title":"MainProcessApiAccess mock import uses await incorrectly","description":"The mock import in MainProcessApiAccess.ts has a comment 'NB: dont try to use await here, it is currently breaking vite build' but should be refactored to avoid this issue entirely","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-12-06T09:12:59.3542332-07:00","updated_at":"2025-12-06T09:33:04.4982583-07:00"}
{"id":"lameta-e50","title":"Add cleanup on cancellation - delete partial export directory","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:23:20.5671481-07:00","updated_at":"2025-12-04T19:36:07.8901993-07:00","closed_at":"2025-12-04T19:36:07.8901993-07:00"}
{"id":"lameta-eva","title":"MainProcessApi.revealInFolder has debug dialogs","description":"The revealInFolder method in MainProcessApi.ts contains debug dialog.showMessageBox calls that should be removed before production.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T09:13:10.5820534-07:00","updated_at":"2025-12-06T09:14:27.6594545-07:00","closed_at":"2025-12-06T09:14:27.6594545-07:00"}
{"id":"lameta-exs","title":"Show file names currently being copied during export","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-04T19:23:49.7036954-07:00","updated_at":"2025-12-04T19:36:17.7214326-07:00","closed_at":"2025-12-04T19:36:17.7214326-07:00"}
{"id":"lameta-fcq","title":"lameta-aio","description":"Refactor export so renderer generates IMDI strings, main process handles all file I/O. Goals: responsive UI, progress bar, cancellation between sessions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T17:01:29.2296305-07:00","updated_at":"2025-12-04T17:18:27.0966873-07:00","closed_at":"2025-12-04T17:18:27.0966873-07:00"}
{"id":"lameta-pao","title":"Export cancel should delete partial export folder","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-04T20:10:42.4652858-07:00","updated_at":"2025-12-04T20:11:02.1591164-07:00","closed_at":"2025-12-04T20:11:02.1591164-07:00"}
{"id":"lameta-y77","title":"MainProcessCopyManager is dead code","description":"MainProcessCopyManager.ts appears to be a leftover from earlier iterations - the hybrid export now uses MainProcessImdiExport which uses simpler fs.copyFile. MainProcessCopyManager uses rsync/copy shell commands but is not referenced anywhere.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-12-06T09:13:17.0352639-07:00","updated_at":"2025-12-06T09:13:17.0352639-07:00"}
{"id":"lameta-zlt","title":"Integrate hybrid export with CopyManager for large file robustness","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-04T19:23:40.1945847-07:00","updated_at":"2025-12-04T19:45:47.8923164-07:00","closed_at":"2025-12-04T19:45:47.8923164-07:00"}
